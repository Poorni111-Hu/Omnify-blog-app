<!DOCTYPE html>
<html>
<head>
<title>Create Blog</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h2>Create a Blog</h2>
<form id="blogForm">
  <input type="text" id="title" placeholder="Blog Title" required/><br>
  <textarea id="content" placeholder="Blog Content" required></textarea><br>
  <input type="email" id="author" placeholder="Your Email" required/><br>
  <button type="submit">Publish</button>
</form>

<script>
document.getElementById('blogForm').addEventListener('submit', async e=>{
  e.preventDefault();
  const title = document.getElementById('title').value;
  const content = document.getElementById('content').value;
  const author = document.getElementById('author').value;
  try{
    const res = await fetch('/blogs',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({title, content, author})
    });
    const data = await res.json();
    alert(data.message);
    window.location.href='index.html';
  }catch(err){console.error(err);}
});
</script>
</body>
</html>
